{% extends "base.html" %}

{% block content %}
<div class="main-content-container video-container">
    <!-- Header -->
    <header class="mb-20">
        <div class="inline-flex items-center gap-4 mb-6">
            <span class="text-[10px] tracking-[0.4em] uppercase opacity-40">System Node: Video</span>
            <div class="w-12 h-[1px] bg-white/20"></div>
        </div>
        <h2 class="text-4xl md:text-5xl font-bold serif-font leading-tight mb-4">ì˜ìƒ ìŠ¤íŠœë””ì˜¤_</h2>
    </header>

    <div class="space-y-12">
        <!-- Input Section -->
        <section class="pixel-card p-6 md:p-12">
            <div class="max-w-2xl mx-auto">
                <h3 class="text-xs uppercase tracking-[0.3em] opacity-40 mb-8 text-center">Video_Source_Input</h3>
                <div class="flex flex-col md:flex-row gap-4">
                    <input type="url" id="videoUrl" placeholder="https://www.youtube.com/watch?v=..." 
                           class="flex-1 bg-black border-2 border-[#222] p-4 text-sm focus:border-white outline-none font-pixel">
                    <button class="btn-pixel md:px-8" onclick="processVideo()">Process</button>
                </div>
                <p class="text-[10px] mt-4 opacity-30 text-center uppercase tracking-widest">Archive_ID extraction via YouTube Link</p>
            </div>
        </section>

        <!-- Status / Progress -->
        <section id="statusSection" class="hidden py-12">
            <div class="pixel-card p-8 border-[#222]">
                <div class="flex items-center justify-between mb-4">
                    <span id="statusTitle" class="text-xs uppercase tracking-widest font-bold">Initializing_Link_Node</span>
                    <span id="progressPercent" class="text-[10px] opacity-40 tracking-tighter">0%</span>
                </div>
                <div class="progress-container">
                    <div id="videoProgressBar" class="progress-fill" style="width: 0%"></div>
                </div>
                <p id="statusDetail" class="text-[10px] mt-4 opacity-40 uppercase tracking-widest">Waiting for response...</p>
            </div>
        </section>

        <!-- Output Selection -->
        <section id="outputSection" class="hidden grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Audio Extraction -->
            <div class="pixel-card">
                <h3 class="text-xs uppercase tracking-[0.3em] opacity-40 mb-6 pb-2 border-b border-[#111]">Audio_Extraction</h3>
                <div class="space-y-6">
                    <p class="text-sm opacity-60">ì˜ìƒì—ì„œ ìŒì› íŒŒì¼ë§Œ ì¶”ì¶œí•˜ì—¬ ì•„ì¹´ì´ë¸Œ í•©ë‹ˆë‹¤.</p>
                    <button class="btn-pixel w-full" onclick="downloadAudio()">Download_MP3</button>
                </div>
            </div>

            <!-- Video with Lyrics (Subtitles) -->
            <div class="pixel-card">
                <h3 class="text-xs uppercase tracking-[0.3em] opacity-40 mb-6 pb-2 border-b border-[#111]">Visual_Archive</h3>
                <div class="space-y-6">
                    <p class="text-sm opacity-60">ê°€ì‚¬ê°€ í¬í•¨ëœ ì»¤ìŠ¤í…€ ì˜ìƒì„ ìƒì„±í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.</p>
                    <button class="btn-outline w-full text-xs tracking-widest" onclick="generateLyricVideo()">Generate_Video</button>
                </div>
            </div>
        </section>

        <!-- Final Result -->
        <section id="videoResult" class="hidden text-center py-12">
            <div class="pixel-card p-12">
                <div class="text-4xl mb-6">ğŸ“‚</div>
                <h3 class="text-2xl font-bold serif-font mb-8">Process_Complete</h3>
                <div id="videoPlayerContainer" class="max-w-3xl mx-auto mb-12">
                    <!-- Video player or audio link will be inserted here -->
                </div>
                <button class="btn-outline text-xs tracking-widest" onclick="resetVideoStudio()">RESTART_MODULE</button>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/music_video.js') }}"></script>
{% endblock %}
